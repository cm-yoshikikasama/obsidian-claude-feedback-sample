---
allowed-tools: Bash(date:*), Bash(find:*), Write, Read, Glob, Edit
argument-hint: [月曜日の日付]
description: デイリーノート（月〜金）から週次まとめとAIレビューを生成
---

# 週次まとめとAIレビュー生成

## 概要

このコマンドは、指定された週のデイリーノートを分析して週次まとめとAIレビューを生成する。主要な活動を抽出し、AIが生成したインサイトと推奨事項を提供する。

## 日付の扱い

- monday-date引数（$1）がYYYY-MM-DD形式で指定された場合、その月曜日を開始日として使用
- 週は月曜日から金曜日（5営業日）
- 引数が指定されない場合、先週の月曜日（直近の完了した作業週）を使用

## タスク

完全な週次レビューを生成するために、以下のステップを順番に実行する

### ステップ1: 対象週の決定

まず、対象の日付範囲を計算する

```bash
# If Monday date provided, use it; otherwise calculate last complete work week
if [ -n "$1" ]; then
  START_DATE="$1"
  # Calculate Friday (4 days after Monday)
  END_DATE=$(date -d "$START_DATE + 4 days" +%Y-%m-%d 2>/dev/null || date -v+4d -j -f "%Y-%m-%d" "$START_DATE" +%Y-%m-%d)
else
  # Default to last complete work week (Monday to Friday)
  # Get last Monday
  DAYS_SINCE_MONDAY=$(($(date +%u) - 1))
  if [ $DAYS_SINCE_MONDAY -eq 0 ]; then
    DAYS_SINCE_MONDAY=7
  fi
  START_DATE=$(date -d "$((DAYS_SINCE_MONDAY + 7)) days ago" +%Y-%m-%d 2>/dev/null || date -v-$((DAYS_SINCE_MONDAY + 7))d +%Y-%m-%d)
  # Calculate Friday (4 days after that Monday)
  END_DATE=$(date -d "$START_DATE + 4 days" +%Y-%m-%d 2>/dev/null || date -v+4d -j -f "%Y-%m-%d" "$START_DATE" +%Y-%m-%d)
fi

echo "Generating weekly review for: $START_DATE to $END_DATE (Mon-Fri)"
```

### ステップ2: デイリーノートの検索と読み込み

- 重要: 現在のディレクトリは`.claude/`なので、親ディレクトリから検索する必要がある
- bashコマンド`find ../01_Daily -name "*.md" -type f | sort`を使用してすべてのデイリーノートを検索
- または`Glob(path="..", pattern="01_Daily/**/*.md")`を使用
- 対象の日付範囲（START_DATEからEND_DATE）内のファイルをフィルタリング
- デイリーノートは`01_Daily/YYYY/MM/YYYY-MM-DD.md`のパターンに従う
- 対象週に該当する各ファイルを読み込む

### ステップ3: 情報の抽出と分析

各デイリーノートから以下を体系的に抽出する

1. MTG・イベント - 完了した会議とイベント（チェックマークまたは完了としてマークされた項目）
2. 今日のTodo - プロジェクトカテゴリ別のタスクとステータス追跡
    - [ ] 未着手
    - [/] 進行中
    - [R] レビュー中
    - [x] 完了
    - [-] 中止
3. 今日の振り返りセクション
    - 感謝 - 感謝の記録
    - Good - 良かった点
    - Motto - 日々の教訓やインサイト
4. 明日やる - 作成された計画
5. thinoエントリまたはクイックノート
6. その他の重要なコンテンツや成果

### ステップ4: 集約とインサイト生成

抽出した情報を整理し、AIによるインサイトを生成する

1. 日次サマリ - 各日の意味のあるサマリを作成
2. プロジェクト分析 - プロジェクト別に活動をグループ化し進捗を評価
3. パターン認識 - 繰り返されるテーマ、課題、成功を特定
4. 生産性分析 - タスク完了パターンを分析
5. バランス評価 - プロジェクト間の時間・労力配分を評価
6. 成長機会 - パターンに基づく改善領域を特定

### ステップ5: 週次レビューファイルの作成

`02_Weekly/YYYYMMDD_weekly_review.md`にファイルを生成する

以下のテンプレート構造を使用し、実際のデータとインサイトを入力する

## 週次レビューテンプレート

```markdown
# 週次まとめとAIレビュー - [START_DATE]週

## 📅 対象期間

- [START_DATE] (月) 〜 [END_DATE] (金)

## 📊 今週のまとめ

### 日毎の活動

[デイリーノートから主要な活動と完了タスクを抽出して整理]

### プロジェクト別実績

[検出されたプロジェクト名で動的にセクション作成し、成果をまとめる]

### 主要な成果

[今週の重要な成果や達成事項]

## 🤖 AIによるレビューとフィードバック

### 📈 生産性の分析

[タスク完了率、作業パターン、効率性に関するAI分析]

### ✨ 良かった点

[デイリーノートから抽出した成功ポイントとAI評価]

### 🔧 改善提案

[課題の識別と具体的な改善アクション]

### 🎯 来週への推奨事項

[AIが分析したパターンに基づく来週の行動提案]

## 📎 参照ファイル

[参照したデイリーノートのwikiリンク]
```

### ステップ6: AI分析とフィードバック生成

AIフィードバックセクションを生成する際、抽出されたデータから以下を分析する

1. 生産性パターン - 生産性パターン、ピークパフォーマンス時間、タスク完了率を探す
2. バランス分析 - 時間配分が優先事項と一致しているかを評価
3. 成長指標 - 学習機会とスキル開発領域を特定
4. 習慣分析 - 強化すべき良い習慣と対処すべき悪いパターンを認識
5. ストレス指標 - 過負荷、燃え尽き、バランスの問題の兆候を探す
6. 協力関係 - チームのインタラクションとコラボレーションの効果を分析

### 実行手順

すべてのステップをただちに実行し、以下を含む完全な週次レビューファイルを作成する

1. 適切な日付計算と範囲決定
2. 範囲内のすべてのデイリーノートからの体系的な抽出
3. 実際の成果を含む意味のある日次サマリ
4. プロジェクトベースの活動整理
5. AIが生成したインサイトとパターン認識
6. 具体的で実行可能な改善推奨事項
7. 可能な限り定量的な指標
8. 参照したデイリーノートへの適切なファイルリンク
9. プロフェッショナルなフォーマットと構造

最終ファイルを`02_Weekly/[YYYYMMDD]_weekly_review.md`に保存すること。

生成されたレビューは包括的で、洞察に富み、継続的改善のためにすぐに実行可能でなければならない。
